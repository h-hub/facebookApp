angular.module("login.login-service",[]),angular.module("login.utils",[]),angular.module("login-modules",["login.login-service","login.utils"]),angular.module("login.login-service").service("loginService",["http",function(e){this.validate=function(o,t,n){var i={url:"/login/validate",payLoad:o};e.post(i,o).then(function(e){t(e)})["catch"](function(e){return 404===e.code?void t([]):void n(e)})},this.sendHome=function(o,t,n){var i={url:"/home/validate",payLoad:o};e.post(i,o).then(function(e){t(e)})["catch"](function(e){return 404===e.code?void t([]):void n(e)})}}]);var app=angular.module("login",["login.templates","login-modules"]);app.directive("login",["$templateCache",function(e){return{restrict:"E",template:e.get("login/login.html"),controller:["$rootScope","$scope","$window","loginService",function(e,o,t,n){o.emailFormat=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/,o.submit=function(){var e={username:o.user.email,password:o.user.password};n.validate(e,function(e){e?t.location.href="/home":t.location.href="/login"},function(e){o.message="unable to fetch"})},o.redirectHome=function(){var e={username:o.user.email,password:o.user.password};n.sendHome(e,function(e){e?t.location.href="/home":t.location.href="/login"},function(e){o.message="unable to fetch"})}}]}}]),angular.module("login.utils").service("http",["$q","$http","$rootScope",function(e,o,t){var n=function(n,i,a,r){var u=e.defer(),l=(new Date).getTime();return r={"Content-Type":"application/json"},o({method:i,url:n,headers:r,data:a,timeout:2e7}).success(function(e){u.resolve(e)}).error(function(e,o,n,i){var a=(new Date).getTime()-l;a>=i.timeout&&t.$broadcast("httpRequestTimeout");var r={status:0,data:"Service Timeout"};e=e||r,401!==e.code&&u.reject(e)}),u.promise};this.get=function(e){return n(e.url,"GET",null)},this.post=function(e,o){return n(e.url,"POST",e.payLoad)},this["delete"]=function(e){return n(e.url,"DELETE",null)},this.put=function(e,o){return n(e.url,"PUT",e.payLoad)}}]);