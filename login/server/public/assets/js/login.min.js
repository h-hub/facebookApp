angular.module("login.login-service",[]),angular.module("login.utils",[]),angular.module("login-modules",["login.login-service","login.utils"]),angular.module("login.login-service").service("loginService",["http",function(e){this.validate=function(t,r,o){var s={url:"/login/validate",payLoad:t};e.post(s,t).then(function(e){r(e)})["catch"](function(e){return 404===e.code?void r([]):void o(e)})},this.sendHome=function(t,r,o){var s={url:"/home/validate",payLoad:t};e.post(s,t).then(function(e){r(e)})["catch"](function(e){return 404===e.code?void r([]):void o(e)})}}]);var app=angular.module("login",["login.templates","login-modules"]);app.directive("login",["$templateCache",function(e){return{restrict:"E",template:e.get("login/login.html"),controller:["$rootScope","$scope","$window","loginService","MessageLogger",function(e,t,r,o,s){t.emailFormat=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/,t.submit=function(){var e=t.user.email,r=t.user.password,a={username:e,password:r};o.validate(a,function(e){e?t.redirectHome(a):t.message="Invalid Username or password."},function(e){s.logError({"class":"loginController",method:"submit",message:{payload:{credentials:a},stacktrace:e,status:"fail"}}),t.message="Unable to fetch data. Try Again."})},t.redirectHome=function(e){o.sendHome(e,function(e){e?r.location.href="/home":t.message="AInvalid Username or password."},function(r){s.logError({"class":"loginController",method:"submit",message:{payload:{credentials:e},stacktrace:r,status:"fail"}}),t.message="Unable to fetch data. Try Again."})}}]}}]),angular.module("login.utils").service("http",["$q","$http","$rootScope",function(e,t,r){var o=function(o,s,a,n){var l=e.defer(),i=(new Date).getTime();return n={"Content-Type":"application/json"},t({method:s,url:o,headers:n,data:a,timeout:2e7}).success(function(e){l.resolve(e)}).error(function(e,t,o,s){var a=(new Date).getTime()-i;a>=s.timeout&&r.$broadcast("httpRequestTimeout");var n={status:0,data:"Service Timeout"};e=e||n,401!==e.code&&l.reject(e)}),l.promise};this.get=function(e){return o(e.url,"GET",null)},this.post=function(e,t){return o(e.url,"POST",e.payLoad)},this["delete"]=function(e){return o(e.url,"DELETE",null)},this.put=function(e,t){return o(e.url,"PUT",e.payLoad)}}]),angular.module("login.utils").service("MessageLogger",["$http",function(e){this.logError=function(t){console.log("log error");try{return angular.extend(t,{logtype:"error",logtime:new Date,workflow:"login"}),e.post("/log/error",t)}catch(r){return}},this.logInstrumentation=function(t){try{return angular.extend(t,{logtype:"info",logtime:new Date,workflow:"login"}),e.post("/log/instrumentation",t)}catch(r){return}},this.services={getNewCourseMaterials:"getNewCourseMaterials",getCourseMaterials:"getCourseMaterials",getMyCourses:"getMyCourses",getCoursesByCourseId:"getCoursesByCourseId",getCourseMaterialById:"getCourseMaterialById",getAllDisciplines:"getAllDisciplines",saveCourses:"saveCourses",deleteCourse:"deleteCourse",getServerDate:"getServerDate"},this.actions={searchCourses:"search-courses",searchMaterials:"search-materials",enterCourseIdSearch:"course-id-search",enterMaterialsSearch:"catelog-search",myCourseList:"see-my-list",selectCourse:"select-course",selectMaterial:"select-material",selectEdition:"select-edition",selectVersion:"select-version",createCourse:"create-course",selectCurrentEdition:"Current Edition Selected",selectCurrentVersion:"Current Version Selected",selectNewEdition:"New Edition Selected",selectNewVersion:"New Version Selected",updatePanelCount:"Update panel count",cancelCourseCreation:"select-cancel-course-creation",createCopyCourse:"select-create-copy-course",goToCatalog:"select-go-to-catalog",returnToMyCourse:"return to my course",createAnotherCourse:"Create another course",bookStoreInfo:"Bookstore information selected",exitToCourseHome:"Exit to course home",selectCourseStartDate:"Course start date selected",selectCourseEndDate:"Course end date selected",selectEnrollmentStartDate:"Enrollment start date selected",selectEnrollmentEndDate:"Enrollment end date selected",selectCourseStartDateManually:"Course start date manually selected",setCourseListArray:"Created course id list"},this.ui={createCourse:"create-a-course",selectCourseMaterials:"select-course-materials",selectExistingCourse:"select-existing-course",enterCourseDetails:"enter-course-details",youAredone:"you-are-done",intermediateProvider:"intermediate-page"}}]);