angular.module("login.login-service",[]),angular.module("login.utils",[]),angular.module("login-modules",["login.login-service","login.utils"]),angular.module("login.login-service").service("loginService",["http",function(e){this.validate=function(o,n,t){console.log("credentials--->"),console.log(o);var i={url:"/login/validate",payLoad:o};e.post(i,o).then(function(e){n(e)})["catch"](function(e){return 404===e.code?void n([]):void t(e)})},this.sendHome=function(o,n,t){console.log("credentials--->"),console.log(o);var i={url:"/home/validate",payLoad:o};e.post(i,o).then(function(e){n(e)})["catch"](function(e){return 404===e.code?void n([]):void t(e)})}}]);var app=angular.module("login",["login.templates","login-modules"]);app.directive("login",["$templateCache",function(e){return{restrict:"E",template:e.get("login/login.html"),controller:["$rootScope","$scope","$window","loginService",function(e,o,n,t){o.emailFormat=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/,o.submit=function(){var e={username:o.user.email,password:o.user.password};t.validate(e,function(e){e?n.location.href="/home":n.location.href="/login"},function(e){console.log(e),o.message="unable to fetch"})},o.redirectHome=function(){var e={username:o.user.email,password:o.user.password};t.sendHome(e,function(e){e?n.location.href="/home":n.location.href="/login"},function(e){console.log(e),o.message="unable to fetch"})}}]}}]),angular.module("login.utils").service("http",["$q","$http","$rootScope",function(e,o,n){var t=function(t,i,l,a){console.log("---------------------------------->"+l.username),console.log("---------------------------------->"+l.username);var r=e.defer(),u=(new Date).getTime();return a={"Content-Type":"application/json"},o({method:i,url:t,headers:a,data:l,timeout:2e7}).success(function(e){r.resolve(e)}).error(function(e,o,t,i){var l=(new Date).getTime()-u;l>=i.timeout&&n.$broadcast("httpRequestTimeout");var a={status:0,data:"Service Timeout"};e=e||a,401!==e.code&&r.reject(e)}),r.promise};this.get=function(e){return t(e.url,"GET",null)},this.post=function(e,o){return t(e.url,"POST",e.payLoad)},this["delete"]=function(e){return t(e.url,"DELETE",null)},this.put=function(e,o){return t(e.url,"PUT",e.payLoad)}}]);